<%
	let activeAssignment = "";
	let activeAdmin = "";

	switch (menu) {
		case 'assignment':
			activeAssignment = "active";
			break;
		case 'admin':
			activeAdmin = "active";
			break;
	}
%>

<div class="side bg-light">
	
	<div>
		
		<!-- Logo -->
		<h1 class="mb-8 ps-8">
			<span class="d-none">後台系統</span>
			<img src="../assets/images/logo-ANSWER.svg" alt="logo" class="d-block">
		</h1>
		
		<!-- Menu -->
		<nav>
			<ul class="list-unstyled fw-bold">
				<li class="mb-6">
					<a href="javascript:void(0);" class="side-nav-link cursor-not-allowed">
						<span class="material-icons">assessment</span>
						<span>Dashboard</span>
					</a>
				</li>
				<li class="mb-6">
					<a href="javascript:void(0);" class="side-nav-link cursor-not-allowed">
						<span class="material-icons">question_answer</span>
						<span>Question</span>
					</a>
				</li>
				<li class="mb-6">
					<a href="./assignment.html" class="side-nav-link <%=activeAssignment%>">
						<span class="material-icons">assignment</span>
						<span>Assignment</span>
					</a>
				</li>
				<li class="mb-6">
					<a href="javascript:void(0);" class="side-nav-link cursor-not-allowed">
						<span class="material-icons">video_library</span>
						<span>Course</span>
					</a>
				</li>
				<li class="mb-6">
					<a href="./admin.html" class="side-nav-link <%=activeAdmin%>">
						<span class="material-icons">supervisor_account</span>
						<span>Admin</span>
					</a>
				</li>
				<li class="mb-6">
					<a href="javascript:void(0);" class="side-nav-link cursor-not-allowed">
						<span class="material-icons">settings</span>
						<span>Settings</span>
					</a>
				</li>
			</ul>
		</nav>
		
	</div>
	
	<!-- 使用者 -->
	<div class="side-user">
		<img src="../assets/images/andychen.jpeg" alt="Andy Chen" class="user-photo me-4">
		<div class="d-flex flex-column justify-content-between">
			<div class="side-user-name fw-bold">Andy Chen</div>
			<div class="side-user-email">andy0401@mail.com</div>
		</div>
	</div>
	
</div>


<script>
	
	// 元素 - a 連結們
	const elemLinks = document.querySelectorAll(".side-nav-link");
	
	// 偵側 nav 區塊
	document.querySelector(".side nav").addEventListener("click", (event) => {
		const target = event.target;
		
		// 點擊到 a 連結，處理 active 樣式
		if (target.tagName.toUpperCase() === 'A')
		{
			// 無效的連結不繼續處理
			if (target.classList.contains("cursor-not-allowed")) {
				return;
			}
			
			elemLinks.forEach((item) => {
				item.classList.remove("active");
			});
			target.classList.add("active");
		}
	});
	
</script>